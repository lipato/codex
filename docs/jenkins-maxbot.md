# Jenkins Maxbot Deployment Notes

## Требуемые пакеты на VM
- `git`
- `node`/`npm`
- systemd сервис `maxbot` должен быть установлен и доступен для управления

## Права пользователя Jenkins
- Доступ по `ssh` на целевую VM для выполнения деплой-скриптов
- Разрешено использовать `chown` для смены владельца файлов/директорий, связанных с Maxbot

## Healthcheck
Пример проверки состояния:
```
curl -s http://localhost:8080/health
```
Ожидаемый JSON-ответ:
```json
{"status":"ok"}
```

## Процесс отката
1. Остановить сервис `maxbot`.
2. Восстановить файлы из резервной копии `/opt/data/maxbot_bak` в рабочую директорию.
3. Запустить сервис `maxbot` и убедиться, что healthcheck возвращает ожидаемый ответ.
